

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>BOP with object pose sampling and physics positioning &mdash; BlenderProc 2.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> BlenderProc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <div class="toctree-wrapper compound">
<p class="compound-first caption"><span class="compound-first caption-text">Tutorials</span></p>
<ul class="compound-middle">
<li class="toctree-l1"><a class="reference external" href="../../../docs/tutorials/loader.html">Loading and manipulating objects</a></li>
</ul>
<ul class="compound-middle">
<li class="toctree-l1"><a class="reference external" href="../../../docs/tutorials/camera.html">Configuring the camera</a></li>
</ul>
<ul class="compound-middle">
<li class="toctree-l1"><a class="reference external" href="../../../docs/tutorials/renderer.html">Rendering the scene</a></li>
</ul>
<ul class="compound-middle">
<li class="toctree-l1"><a class="reference external" href="../../../docs/tutorials/writer.html">Writing the results to file</a></li>
</ul>
<ul class="compound-middle">
<li class="toctree-l1"><a class="reference external" href="../../../docs/tutorials/key_frames.html">How key frames work</a></li>
</ul>
<ul class="compound-middle">
<li class="toctree-l1"><a class="reference external" href="../../../docs/tutorials/physics.html">Positioning objects via the physics simulator</a></li>
</ul>
<p class="compound-middle caption"><span class="compound-middle caption-text">Examples</span></p>
<ul class="compound-middle">
<li class="toctree-l1"><a class="reference external" href="../../basics/README.html">Basics</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../basics/basic/README.html">basic</a></li>
<li class="toctree-l2"><a class="reference external" href="../../basics/camera_object_pose/README.html">camera_object_pose</a></li>
<li class="toctree-l2"><a class="reference external" href="../../basics/camera_sampling/README.html">camera_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../../basics/entity_manipulation/README.html">entity_manipulation</a></li>
<li class="toctree-l2"><a class="reference external" href="../../basics/light_sampling/README.html">light_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../../basics/material_manipulation/README.html">material_manipulation</a></li>
<li class="toctree-l2"><a class="reference external" href="../../basics/physics_positioning/README.html">physics_positioning</a></li>
<li class="toctree-l2"><a class="reference external" href="../../basics/semantic_segmentation/README.html">semantic_segmentation</a></li>
</ul>
</li>
</ul>
<ul class="compound-middle">
<li class="toctree-l1"><a class="reference external" href="../../advanced/README.html">Advanced</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../advanced/auto_shading/README.html">auto_shading</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/calibration/README.html">calibration</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/camera_depth_of_field/README.html">camera_depth_of_field</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/coco_annotations/README.html">coco_annotations</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/diffuse_color_image/README.html">diffuse_color_image</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/dust/README.html">dust</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/entity_displacement_modifier/README.html">entity_displacement_modifier</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/lens_distortion/README.html">lens_distortion</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/material_randomizer/README.html">material_randomizer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/motion_blur_rolling_shutter/README.html">motion_blur_rolling_shutter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/multi_render/README.html">multi_render</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/nocs/README.html">nocs</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/object_pose_sampling/README.html">object_pose_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/on_surface_object_sampling/README.html">on_surface_object_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/optical_flow/README.html">optical_flow</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/physics_convex_decomposition/README.html">physics_convex_decomposition</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/random_backgrounds/README.html">random_backgrounds</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/random_room_constructor/README.html">random_room_constructor</a></li>
<li class="toctree-l2"><a class="reference external" href="../../advanced/stereo_matching/README.html">stereo_matching</a></li>
</ul>
</li>
</ul>
<ul class="compound-middle">
<li class="toctree-l1 current"><a class="reference external" href="../README.html">Datasets</a><ul>
<li class="toctree-l2"><a class="reference external" href="../amass_human_poses/README.html">amass_human_poses</a></li>
<li class="toctree-l2"><a class="reference external" href="../blenderkit/README.html">blenderkit</a></li>
<li class="toctree-l2"><a class="reference external" href="../bop_challenge/README.html">bop_challenge</a></li>
<li class="toctree-l2"><a class="reference external" href="../bop_object_on_surface_sampling/README.html">bop_object_on_surface_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="#">bop_object_physics_positioning</a></li>
<li class="toctree-l2"><a class="reference external" href="../bop_object_pose_sampling/README.html">bop_object_pose_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../bop_scene_replication/README.html">bop_scene_replication</a></li>
<li class="toctree-l2"><a class="reference external" href="../front_3d/README.html">front_3d</a></li>
<li class="toctree-l2"><a class="reference external" href="../front_3d_with_improved_mat/README.html">front_3d_with_improved_mat</a></li>
<li class="toctree-l2"><a class="reference external" href="../haven/README.html">haven</a></li>
<li class="toctree-l2"><a class="reference external" href="../ikea/README.html">ikea</a></li>
<li class="toctree-l2"><a class="reference external" href="../pix3d/README.html">pix3d</a></li>
<li class="toctree-l2"><a class="reference external" href="../replica/README.html">replica</a></li>
<li class="toctree-l2"><a class="reference external" href="../rock_essentials/README.html">rock_essentials</a></li>
<li class="toctree-l2"><a class="reference external" href="../scenenet/README.html">scenenet</a></li>
<li class="toctree-l2"><a class="reference external" href="../scenenet_with_cctextures/README.html">scenenet_with_cctextures</a></li>
<li class="toctree-l2"><a class="reference external" href="../shapenet/README.html">shapenet</a></li>
<li class="toctree-l2"><a class="reference external" href="../shapenet_with_scenenet/README.html">shapenet_with_scenenet</a></li>
<li class="toctree-l2"><a class="reference external" href="../shapenet_with_suncg/README.html">shapenet_with_suncg</a></li>
<li class="toctree-l2"><a class="reference external" href="../suncg_basic/README.html">suncg_basic</a></li>
<li class="toctree-l2"><a class="reference external" href="../suncg_with_cam_sampling/README.html">suncg_with_cam_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../suncg_with_improved_mat/README.html">suncg_with_improved_mat</a></li>
<li class="toctree-l2"><a class="reference external" href="../suncg_with_object_replacer/README.html">suncg_with_object_replacer</a></li>
</ul>
</li>
</ul>
<ul class="compound-middle">
<p class="caption"><span class="caption-text">Api</span></p>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.camera.html#module-blenderproc.camera">bproc.camera</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.constructor.html#module-blenderproc.constructor">bproc.constructor</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.filter.html#module-blenderproc.filter">bproc.filter</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.lighting.html#module-blenderproc.lighting">bproc.lighting</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.loader.html#module-blenderproc.loader">bproc.loader</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.material.html#module-blenderproc.material">bproc.material</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.math.html#module-blenderproc.math">bproc.math</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.object.html#module-blenderproc.object">bproc.object</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.postprocessing.html#module-blenderproc.postprocessing">bproc.postprocessing</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.renderer.html#module-blenderproc.renderer">bproc.renderer</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.sampler.html#module-blenderproc.sampler">bproc.sampler</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.types.html#module-blenderproc.types">bproc.types</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.utility.html#module-blenderproc.utility">bproc.utility</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.world.html#module-blenderproc.world">bproc.world</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.api.writer.html#module-blenderproc.writer">bproc.writer</a></li>
</ul>
<ul class="compound-middle">
<p class="caption"><span class="caption-text">Internal</span></p>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.filter.html">bproc.python.filter</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.filter.Filter.html#blenderproc.python.filter.Filter.Filter">Filter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.lighting.html">bproc.python.lighting</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.lighting.SuncgLighting.html#blenderproc.python.lighting.SuncgLighting.SuncgLighting">SuncgLighting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.loader.html">bproc.python.loader</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.AMASSLoader.html#blenderproc.python.loader.AMASSLoader.AMASSLoader">AMASSLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.BlendLoader.html#blenderproc.python.loader.BlendLoader.BlendLoader">BlendLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.BopLoader.html#blenderproc.python.loader.BopLoader.BopLoader">BopLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.CCMaterialLoader.html#blenderproc.python.loader.CCMaterialLoader.CCMaterialLoader">CCMaterialLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.Front3DLoader.html#blenderproc.python.loader.Front3DLoader.Front3DLoader">Front3DLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.HavenMaterialLoader.html#blenderproc.python.loader.HavenMaterialLoader.HavenMaterialLoader">HavenMaterialLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.IKEALoader.html#blenderproc.python.loader.IKEALoader.IKEALoader">IKEALoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.Pix3DLoader.html#blenderproc.python.loader.Pix3DLoader.Pix3DLoader">Pix3DLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.RockEssentialsRockLoader.html#blenderproc.python.loader.RockEssentialsRockLoader.RockEssentialsRockLoader">RockEssentialsRockLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.SceneNetLoader.html#blenderproc.python.loader.SceneNetLoader.SceneNetLoader">SceneNetLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.ShapeNetLoader.html#blenderproc.python.loader.ShapeNetLoader.ShapeNetLoader">ShapeNetLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.SuncgLoader.html#blenderproc.python.loader.SuncgLoader.SuncgLoader">SuncgLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.loader.TextureLoader.html#blenderproc.python.loader.TextureLoader.TextureLoader">TextureLoader</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.object.html">bproc.python.object</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.object.FloorExtractor.html#blenderproc.python.object.FloorExtractor.FloorExtractor">FloorExtractor</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.object.ObjectReplacer.html#blenderproc.python.object.ObjectReplacer.ObjectReplacer">ObjectReplacer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.object.OnSurfaceSampler.html#blenderproc.python.object.OnSurfaceSampler.OnSurfaceSampler">OnSurfaceSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.object.PhysicsSimulation.html#blenderproc.python.object.PhysicsSimulation.PhysicsSimulation">PhysicsSimulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.postprocessing.html">bproc.python.postprocessing</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.postprocessing.PostProcessingUtility.html#blenderproc.python.postprocessing.PostProcessingUtility.PostProcessingUtility">PostProcessingUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.postprocessing.StereoGlobalMatching.html#blenderproc.python.postprocessing.StereoGlobalMatching.StereoGlobalMatching">StereoGlobalMatching</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.renderer.html">bproc.python.renderer</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.renderer.FlowRendererUtility.html#blenderproc.python.renderer.FlowRendererUtility.FlowRendererUtility">FlowRendererUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.renderer.NOCSRendererUtility.html#blenderproc.python.renderer.NOCSRendererUtility.NOCSRendererUtility">NOCSRendererUtility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.sampler.html">bproc.python.sampler</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.sampler.Disk.html#blenderproc.python.sampler.Disk.Disk">Disk</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.sampler.Front3DPointInRoomSampler.html#blenderproc.python.sampler.Front3DPointInRoomSampler.Front3DPointInRoomSampler">Front3DPointInRoomSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.sampler.ReplicaPointInRoomSampler.html#blenderproc.python.sampler.ReplicaPointInRoomSampler.ReplicaPointInRoomSampler">ReplicaPointInRoomSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.sampler.SuncgPointInRoomSampler.html#blenderproc.python.sampler.SuncgPointInRoomSampler.SuncgPointInRoomSampler">SuncgPointInRoomSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.sampler.UniformSO3.html#blenderproc.python.sampler.UniformSO3.UniformSO3">UniformSO3</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.sampler.UpperRegionSampler.html#blenderproc.python.sampler.UpperRegionSampler.Region2D">Region2D</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.tests.html">bproc.python.tests</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.tests.SilentMode.html#blenderproc.python.tests.SilentMode.SilentMode">SilentMode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.types.html">bproc.python.types</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.types.EntityUtility.html#blenderproc.python.types.EntityUtility.Entity">Entity</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.types.LightUtility.html#blenderproc.python.types.LightUtility.Light">Light</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.types.MaterialUtility.html#blenderproc.python.types.MaterialUtility.Material">Material</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.types.MeshObjectUtility.html#blenderproc.python.types.MeshObjectUtility.MeshObject">MeshObject</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.types.StructUtility.html#blenderproc.python.types.StructUtility.Struct">Struct</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.utility.html">bproc.python.utility</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.CollisionUtility.html#blenderproc.python.utility.CollisionUtility.CollisionUtility">CollisionUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.DefaultConfig.html#blenderproc.python.utility.DefaultConfig.DefaultConfig">DefaultConfig</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.Initializer.html#blenderproc.python.utility.Initializer.Initializer">Initializer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.InstallUtility.html#blenderproc.python.utility.InstallUtility.InstallUtility">InstallUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.LabelIdMapping.html#blenderproc.python.utility.LabelIdMapping.LabelIdMapping">LabelIdMapping</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.MathUtility.html#blenderproc.python.utility.MathUtility.MathUtility">MathUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.SetupUtility.html#blenderproc.python.utility.SetupUtility.SetupUtility">SetupUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.Utility.html#blenderproc.python.utility.Utility.KeyFrame">KeyFrame</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.Utility.html#blenderproc.python.utility.Utility.KeyFrameState">KeyFrameState</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.Utility.html#blenderproc.python.utility.Utility.NumpyEncoder">NumpyEncoder</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.Utility.html#blenderproc.python.utility.Utility.Utility">Utility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.Utility.html#blenderproc.python.utility.Utility.Utility.BlockStopWatch">BlockStopWatch</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.utility.Utility.html#blenderproc.python.utility.Utility.Utility.UndoAfterExecution">UndoAfterExecution</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.writer.html">bproc.python.writer</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.writer.BopWriterUtility.html#blenderproc.python.writer.BopWriterUtility.BopWriterUtility">BopWriterUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.writer.CocoWriterUtility.html#blenderproc.python.writer.CocoWriterUtility.CocoWriterUtility">CocoWriterUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.writer.WriterUtility.html#blenderproc.python.writer.WriterUtility.WriterUtility">WriterUtility</a></li>
</ul>
</li>
</ul>
<ul class="compound-last">
<p class="caption"><span class="caption-text">Modules (deprecated)</span></p>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.camera.html">Camera</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.camera.CameraInterface.html#blenderproc.python.modules.camera.CameraInterface.CameraInterface">CameraInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.camera.CameraLoader.html#blenderproc.python.modules.camera.CameraLoader.CameraLoader">CameraLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.camera.CameraSampler.html#blenderproc.python.modules.camera.CameraSampler.CameraSampler">CameraSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.camera.Front3DCameraSampler.html#blenderproc.python.modules.camera.Front3DCameraSampler.Front3DCameraSampler">Front3DCameraSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.camera.ReplicaCameraSampler.html#blenderproc.python.modules.camera.ReplicaCameraSampler.ReplicaCameraSampler">ReplicaCameraSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.camera.SuncgCameraSampler.html#blenderproc.python.modules.camera.SuncgCameraSampler.SuncgCameraSampler">SuncgCameraSampler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.composite.html">Composite</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.composite.CameraObjectSampler.html#blenderproc.python.modules.composite.CameraObjectSampler.CameraObjectSampler">CameraObjectSampler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.constructor.html">Constructor</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.constructor.BasicEmptyInitializer.html#blenderproc.python.modules.constructor.BasicEmptyInitializer.BasicEmptyInitializer">BasicEmptyInitializer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.constructor.BasicMeshInitializer.html#blenderproc.python.modules.constructor.BasicMeshInitializer.BasicMeshInitializer">BasicMeshInitializer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.constructor.RandomRoomConstructorModule.html#blenderproc.python.modules.constructor.RandomRoomConstructorModule.RandomRoomConstructorModule">RandomRoomConstructorModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.constructor.RockEssentialsGroundConstructor.html#blenderproc.python.modules.constructor.RockEssentialsGroundConstructor.RockEssentialsGroundConstructor">RockEssentialsGroundConstructor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.lighting.html">Lighting</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.lighting.LightInterface.html#blenderproc.python.modules.lighting.LightInterface.LightInterface">LightInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.lighting.LightLoader.html#blenderproc.python.modules.lighting.LightLoader.LightLoader">LightLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.lighting.LightSampler.html#blenderproc.python.modules.lighting.LightSampler.LightSampler">LightSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.lighting.SuncgLightingModule.html#blenderproc.python.modules.lighting.SuncgLightingModule.SuncgLightingModule">SuncgLightingModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.lighting.SurfaceLightingModule.html#blenderproc.python.modules.lighting.SurfaceLightingModule.SurfaceLightingModule">SurfaceLightingModule</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.loader.html">Loader</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.AMASSLoaderModule.html#blenderproc.python.modules.loader.AMASSLoaderModule.AMASSLoaderModule">AMASSLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.BlendLoaderModule.html#blenderproc.python.modules.loader.BlendLoaderModule.BlendLoaderModule">BlendLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.BopLoaderModule.html#blenderproc.python.modules.loader.BopLoaderModule.BopLoaderModule">BopLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.CCMaterialLoaderModule.html#blenderproc.python.modules.loader.CCMaterialLoaderModule.CCMaterialLoaderModule">CCMaterialLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.Front3DLoaderModule.html#blenderproc.python.modules.loader.Front3DLoaderModule.Front3DLoaderModule">Front3DLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.HavenEnvironmentLoaderModule.html#blenderproc.python.modules.loader.HavenEnvironmentLoaderModule.HavenEnvironmentLoaderModule">HavenEnvironmentLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.HavenMaterialLoaderModule.html#blenderproc.python.modules.loader.HavenMaterialLoaderModule.HavenMaterialLoaderModule">HavenMaterialLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.IKEALoaderModule.html#blenderproc.python.modules.loader.IKEALoaderModule.IKEALoaderModule">IKEALoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.LoaderInterface.html#blenderproc.python.modules.loader.LoaderInterface.LoaderInterface">LoaderInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.ObjectLoaderModule.html#blenderproc.python.modules.loader.ObjectLoaderModule.ObjectLoaderModule">ObjectLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.Pix3DLoaderModule.html#blenderproc.python.modules.loader.Pix3DLoaderModule.Pix3DLoaderModule">Pix3DLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.ReplicaLoaderModule.html#blenderproc.python.modules.loader.ReplicaLoaderModule.ReplicaLoaderModule">ReplicaLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.RockEssentialsRockLoaderModule.html#blenderproc.python.modules.loader.RockEssentialsRockLoaderModule.RockEssentialsRockLoaderModule">RockEssentialsRockLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.SceneNetLoaderModule.html#blenderproc.python.modules.loader.SceneNetLoaderModule.SceneNetLoaderModule">SceneNetLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.ShapeNetLoaderModule.html#blenderproc.python.modules.loader.ShapeNetLoaderModule.ShapeNetLoaderModule">ShapeNetLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.SuncgLoaderModule.html#blenderproc.python.modules.loader.SuncgLoaderModule.SuncgLoaderModule">SuncgLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.TextureLoaderModule.html#blenderproc.python.modules.loader.TextureLoaderModule.TextureLoaderModule">TextureLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.loader.VisNormalImage.html#blenderproc.python.modules.loader.VisNormalImage.VisNormalImage">VisNormalImage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.main.html">Main</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.main.GlobalStorage.html#blenderproc.python.modules.main.GlobalStorage.GlobalStorage">GlobalStorage</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.main.InitializerModule.html#blenderproc.python.modules.main.InitializerModule.InitializerModule">InitializerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.main.Module.html#blenderproc.python.modules.main.Module.Module">Module</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.main.Pipeline.html#blenderproc.python.modules.main.Pipeline.Pipeline">Pipeline</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.main.Provider.html#blenderproc.python.modules.main.Provider.Provider">Provider</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.manipulators.html">Manipulators</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.manipulators.EntityManipulator.html#blenderproc.python.modules.manipulators.EntityManipulator.EntityManipulator">EntityManipulator</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.manipulators.MaterialManipulator.html#blenderproc.python.modules.manipulators.MaterialManipulator.MaterialManipulator">MaterialManipulator</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.manipulators.WorldManipulator.html#blenderproc.python.modules.manipulators.WorldManipulator.WorldManipulator">WorldManipulator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.materials.html">Materials</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.materials.RockEssentialsTextureSampler.html#blenderproc.python.modules.materials.RockEssentialsTextureSampler.RockEssentialsTextureSampler">RockEssentialsTextureSampler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.object.html">Object</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.object.CalibrationboardSampler.html#blenderproc.python.modules.object.CalibrationboardSampler.CalibrationboardSampler">CalibrationboardSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.object.FloorExtractorModule.html#blenderproc.python.modules.object.FloorExtractorModule.FloorExtractorModule">FloorExtractorModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.object.HideModule.html#blenderproc.python.modules.object.HideModule.HideModule">HideModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.object.ObjectPoseSamplerModule.html#blenderproc.python.modules.object.ObjectPoseSamplerModule.ObjectPoseSamplerModule">ObjectPoseSamplerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.object.ObjectReplacerModule.html#blenderproc.python.modules.object.ObjectReplacerModule.ObjectReplacerModule">ObjectReplacerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.object.OnSurfaceSamplerModule.html#blenderproc.python.modules.object.OnSurfaceSamplerModule.OnSurfaceSamplerModule">OnSurfaceSamplerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.object.PhysicsPositioningModule.html#blenderproc.python.modules.object.PhysicsPositioningModule.PhysicsPositioningModule">PhysicsPositioningModule</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.postprocessing.html">Postprocessing</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.postprocessing.Dist2Depth.html#blenderproc.python.modules.postprocessing.Dist2Depth.Dist2Depth">Dist2Depth</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.postprocessing.LensDistortion.html#blenderproc.python.modules.postprocessing.LensDistortion.LensDistortion">LensDistortion</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.postprocessing.NoiseRemoval.html#blenderproc.python.modules.postprocessing.NoiseRemoval.NoiseRemoval">NoiseRemoval</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.postprocessing.OilPaintFilter.html#blenderproc.python.modules.postprocessing.OilPaintFilter.OilPaintFilter">OilPaintFilter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.postprocessing.TrimRedundantChannels.html#blenderproc.python.modules.postprocessing.TrimRedundantChannels.TrimRedundantChannels">TrimRedundantChannels</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.provider.html">Provider</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.getter.Attribute.html#blenderproc.python.modules.provider.getter.Attribute.Attribute">Attribute</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.getter.AttributeMerger.html#blenderproc.python.modules.provider.getter.AttributeMerger.AttributeMerger">AttributeMerger</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.getter.Entity.html#blenderproc.python.modules.provider.getter.Entity.Entity">Entity</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.getter.Material.html#blenderproc.python.modules.provider.getter.Material.Material">Material</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.getter.POI.html#blenderproc.python.modules.provider.getter.POI.POI">POI</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.getter.Texture.html#blenderproc.python.modules.provider.getter.Texture.Texture">Texture</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.sampler.Color.html#blenderproc.python.modules.provider.sampler.Color.Color">Color</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.sampler.DiskModule.html#blenderproc.python.modules.provider.sampler.DiskModule.DiskModule">DiskModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.sampler.PartSphereModule.html#blenderproc.python.modules.provider.sampler.PartSphereModule.PartSphereModule">PartSphereModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.sampler.Path.html#blenderproc.python.modules.provider.sampler.Path.Path">Path</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.sampler.ShellModule.html#blenderproc.python.modules.provider.sampler.ShellModule.ShellModule">ShellModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.sampler.SphereModule.html#blenderproc.python.modules.provider.sampler.SphereModule.SphereModule">SphereModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.sampler.Texture.html#blenderproc.python.modules.provider.sampler.Texture.Texture">Texture</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.sampler.Uniform3d.html#blenderproc.python.modules.provider.sampler.Uniform3d.Uniform3d">Uniform3d</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.sampler.UniformSO3Module.html#blenderproc.python.modules.provider.sampler.UniformSO3Module.UniformSO3Module">UniformSO3Module</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.sampler.UpperRegionSamplerModule.html#blenderproc.python.modules.provider.sampler.UpperRegionSamplerModule.UpperRegionSamplerModule">UpperRegionSamplerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.provider.sampler.Value.html#blenderproc.python.modules.provider.sampler.Value.Value">Value</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.renderer.html">Renderer</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.renderer.FlowRenderer.html#blenderproc.python.modules.renderer.FlowRenderer.FlowRenderer">FlowRenderer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.renderer.RendererInterface.html#blenderproc.python.modules.renderer.RendererInterface.RendererInterface">RendererInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.renderer.RgbRenderer.html#blenderproc.python.modules.renderer.RgbRenderer.RgbRenderer">RgbRenderer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.renderer.SegMapRenderer.html#blenderproc.python.modules.renderer.SegMapRenderer.SegMapRenderer">SegMapRenderer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.utility.html">Utility</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.utility.Config.html#blenderproc.python.modules.utility.Config.Config">Config</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.utility.ConfigParser.html#blenderproc.python.modules.utility.ConfigParser.ConfigParser">ConfigParser</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.utility.ConfigParser.html#blenderproc.python.modules.utility.ConfigParser.PlaceholderTypes">PlaceholderTypes</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.utility.ItemCollection.html#blenderproc.python.modules.utility.ItemCollection.ItemCollection">ItemCollection</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.utility.ItemWriter.html#blenderproc.python.modules.utility.ItemWriter.ItemWriter">ItemWriter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../../blenderproc.python.modules.writer.html">Writer</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.writer.BopWriter.html#blenderproc.python.modules.writer.BopWriter.BopWriter">BopWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.writer.CameraStateWriter.html#blenderproc.python.modules.writer.CameraStateWriter.CameraStateWriter">CameraStateWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.writer.CocoAnnotationsWriter.html#blenderproc.python.modules.writer.CocoAnnotationsWriter.CocoAnnotationsWriter">CocoAnnotationsWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.writer.Hdf5Writer.html#blenderproc.python.modules.writer.Hdf5Writer.Hdf5Writer">Hdf5Writer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.writer.LightStateWriter.html#blenderproc.python.modules.writer.LightStateWriter.LightStateWriter">LightStateWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.writer.ObjectStateWriter.html#blenderproc.python.modules.writer.ObjectStateWriter.ObjectStateWriter">ObjectStateWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.writer.ShapeNetWriter.html#blenderproc.python.modules.writer.ShapeNetWriter.ShapeNetWriter">ShapeNetWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.writer.StereoGlobalMatchingWriterModule.html#blenderproc.python.modules.writer.StereoGlobalMatchingWriterModule.StereoGlobalMatchingWriterModule">StereoGlobalMatchingWriterModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../../blenderproc.python.modules.writer.WriterInterface.html#blenderproc.python.modules.writer.WriterInterface.WriterInterface">WriterInterface</a></li>
</ul>
</li>
</ul>
</div>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">BlenderProc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>BOP with object pose sampling and physics positioning</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/examples/datasets/bop_object_physics_positioning/README.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bop-with-object-pose-sampling-and-physics-positioning">
<h1>BOP with object pose sampling and physics positioning<a class="headerlink" href="#bop-with-object-pose-sampling-and-physics-positioning" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="../../../images/bop_object_physics_positioning_rendering.jpg"><img alt="" src="../../../_images/bop_object_physics_positioning_rendering.jpg" /></a>
<p>This example serves as the basis for generating the synthetic data provided at the BOP Challenge 2020. BOP objects from specified datasets are randomly chosen and dropped into an open cube with randomized PBR textures. Object material properties and light sources are also randomized. Samples cameras looking at objects. Outputs RGB, depth, segmentation masks, Coco annotations and object poses in BOP format.</p>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Make sure that you downloaded the <a class="reference external" href="https://bop.felk.cvut.cz/datasets/">BOP datasets</a>.</p>
<p>Execute in the BlenderProc main directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">blenderproc</span> <span class="n">download</span> <span class="n">cc_textures</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">blenderproc</span> <span class="n">run</span> <span class="n">examples</span><span class="o">/</span><span class="n">datasets</span><span class="o">/</span><span class="n">bop_object_physics_positioning</span><span class="o">/</span><span class="n">main</span><span class="o">.</span><span class="n">py</span>
              <span class="o">&lt;</span><span class="n">path_to_bop_data</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="n">bop_dataset_name</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="n">path_to_bop_toolkit</span><span class="o">&gt;</span>
              <span class="n">resources</span><span class="o">/</span><span class="n">cctextures</span>
              <span class="n">examples</span><span class="o">/</span><span class="n">datasets</span><span class="o">/</span><span class="n">bop_object_physics_positioning</span><span class="o">/</span><span class="n">output</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">examples/datasets/bop_object_physics_positioning/main.py</span></code>: path to the python file with pipeline configuration.</li>
<li><code class="docutils literal notranslate"><span class="pre">&lt;path_to_bop_data&gt;</span></code>: path to a folder containing BOP datasets</li>
<li><code class="docutils literal notranslate"><span class="pre">&lt;bop_dataset_name&gt;</span></code>: name of BOP dataset for which ground truth should be saved, e.g. ycbv</li>
<li><code class="docutils literal notranslate"><span class="pre">&lt;path_to_bop_toolkit&gt;</span></code>: path to the bop_toolkit folder</li>
<li><code class="docutils literal notranslate"><span class="pre">resources/cctextures</span></code>: path to CCTextures folder</li>
<li><code class="docutils literal notranslate"><span class="pre">examples/datasets/bop_object_physics_positioning/output</span></code>: path to an output folder</li>
</ul>
</div>
<div class="section" id="generate-a-dataset">
<h2>Generate a dataset<a class="headerlink" href="#generate-a-dataset" title="Permalink to this headline">¶</a></h2>
<p>To aggregate data and labels over multiple scenes, simply run the script multiple times using the same command. As data is saved in chunks of 1000 images, you can easily distribute the data generation by running the scripts on different machines/servers and then collecting all chunks.</p>
</div>
<div class="section" id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Load T-LESS BOP models: <code class="docutils literal notranslate"><span class="pre">bproc.loader.load_bop()</span></code>.</li>
<li>Load LM BOP models: <code class="docutils literal notranslate"><span class="pre">bproc.loader.load_bop</span></code>.</li>
<li>Load <code class="docutils literal notranslate"><span class="pre">&lt;args:1&gt;</span></code> (YCB-V) BOP models: <code class="docutils literal notranslate"><span class="pre">bproc.loader.load_bop</span></code>.</li>
<li>Sample colors for T-LESS models: <code class="docutils literal notranslate"><span class="pre">mat.set_principled_shader_value()</span></code>.</li>
<li>Sample roughness and specular values for all objects: <code class="docutils literal notranslate"><span class="pre">mat.set_principled_shader_value()</span></code>.</li>
<li>Construct planes: <code class="docutils literal notranslate"><span class="pre">bproc.object.create_primiative()</span></code>.</li>
<li>Switch to a light emission shader for the top plane.</li>
<li>Load CCTexture materials: <code class="docutils literal notranslate"><span class="pre">bproc.loader.load_ccmaterials()</span></code>.</li>
<li>Sample a material for the other planes: <code class="docutils literal notranslate"><span class="pre">plane.replace_materials()</span></code>.</li>
<li>Sample objects poses: <code class="docutils literal notranslate"><span class="pre">bproc.object.sample_poses()</span></code>.</li>
<li>Perform physics simulation: <code class="docutils literal notranslate"><span class="pre">bproc.object.simulate_physics_and_fix_final_poses()</span></code>.</li>
<li>Sample upright objects poses on surface.</li>
<li>Sample point light source.</li>
<li>Sample camera poses <code class="docutils literal notranslate"><span class="pre">bproc.add_camera_pose()</span></code>.</li>
<li>Render RGB and depth: <code class="docutils literal notranslate"><span class="pre">bproc.renderer</span></code>.</li>
<li>Write BOP data: <code class="docutils literal notranslate"><span class="pre">bproc.writer.write_bop</span></code>.</li>
</ul>
</div>
<div class="section" id="python-file-main-py">
<h2>Python file (main.py)<a class="headerlink" href="#python-file-main-py" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bop-loader">
<h3>BOP Loader<a class="headerlink" href="#bop-loader" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># load distractor bop objects</span>
<span class="n">distractor_bop_objs</span> <span class="o">=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">loader</span><span class="o">.</span><span class="n">load_bop</span><span class="p">(</span><span class="n">bop_dataset_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">bop_parent_path</span><span class="p">,</span> <span class="s1">&#39;tless&#39;</span><span class="p">),</span>
                                     <span class="n">model_type</span> <span class="o">=</span> <span class="s1">&#39;cad&#39;</span><span class="p">,</span>
                                     <span class="n">sys_paths</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">bop_toolkit_path</span><span class="p">,</span>
                                     <span class="n">mm2m</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                                     <span class="n">sample_objects</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                                     <span class="n">num_of_objs_to_sample</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">distractor_bop_objs</span> <span class="o">+=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">loader</span><span class="o">.</span><span class="n">load_bop</span><span class="p">(</span><span class="n">bop_dataset_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">bop_parent_path</span><span class="p">,</span> <span class="s1">&#39;lm&#39;</span><span class="p">),</span>
                                      <span class="n">sys_paths</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">bop_toolkit_path</span><span class="p">,</span>
                                      <span class="n">mm2m</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                                      <span class="n">sample_objects</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                                      <span class="n">num_of_objs_to_sample</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># load a random sample of bop objects into the scene</span>
<span class="n">sampled_bop_objs</span> <span class="o">=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">loader</span><span class="o">.</span><span class="n">load_bop</span><span class="p">(</span><span class="n">bop_dataset_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">bop_parent_path</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">bop_dataset_name</span><span class="p">),</span>
                                         <span class="n">sys_paths</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">bop_toolkit_path</span><span class="p">,</span>
                                         <span class="n">mm2m</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                                         <span class="n">sample_objects</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                                         <span class="n">num_of_objs_to_sample</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Here we are sampling BOP objects from 3 different datasets.</li>
<li>We load 3 random objects from LM and T-LESS datasets, and 10 objects from the dataset given by <code class="docutils literal notranslate"><span class="pre">&quot;&lt;args:1&gt;&quot;</span></code> (e.g. ycbv in this case).</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;obj.set_shading_mode('auto')&quot;</span></code> sets the shading for these corresponding objects to auto smoothing. This looks more realistic for meshes that have both sharp edges and curved surfaces like in YCB-V.</li>
<li>Note that each loader loads the camera intrinsics and resolutions of each dataset, thus each subsequent <code class="docutils literal notranslate"><span class="pre">BopLoader</span></code> overwrites these intrinsics. In this example, <code class="docutils literal notranslate"><span class="pre">&quot;&lt;args:1&gt;&quot;</span></code>(ycbv) dataset intrinsics are used when rendering. If required, they can be overwritten by setting <code class="docutils literal notranslate"><span class="pre">resolution_x,</span> <span class="pre">resolution_y,</span> <span class="pre">cam_K</span></code> in the camera sampler or global config.</li>
</ul>
</div>
<div class="section" id="material-manipulator">
<h3>Material Manipulator<a class="headerlink" href="#material-manipulator" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set shading and physics properties and randomize PBR materials</span>
<span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sampled_bop_objs</span> <span class="o">+</span> <span class="n">distractor_bop_objs</span><span class="p">):</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">set_shading_mode</span><span class="p">(</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>

    <span class="n">mat</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">get_materials</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">get_cp</span><span class="p">(</span><span class="s2">&quot;bop_dataset_name&quot;</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;itodd&#39;</span><span class="p">,</span> <span class="s1">&#39;tless&#39;</span><span class="p">]:</span>
        <span class="n">grey_col</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
        <span class="n">mat</span><span class="o">.</span><span class="n">set_principled_shader_value</span><span class="p">(</span><span class="s2">&quot;Base Color&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">grey_col</span><span class="p">,</span> <span class="n">grey_col</span><span class="p">,</span> <span class="n">grey_col</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">mat</span><span class="o">.</span><span class="n">set_principled_shader_value</span><span class="p">(</span><span class="s2">&quot;Roughness&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
    <span class="n">mat</span><span class="o">.</span><span class="n">set_principled_shader_value</span><span class="p">(</span><span class="s2">&quot;Specular&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
</pre></div>
</div>
<ul class="simple">
<li>Sample grey colors for T-LESS object’s materials using <code class="docutils literal notranslate"><span class="pre">mat.set_principled_shader_value()</span></code> function.</li>
<li>Sample <code class="docutils literal notranslate"><span class="pre">specular</span></code> and <code class="docutils literal notranslate"><span class="pre">roughness</span></code> values for object’s materials from all datasets using <code class="docutils literal notranslate"><span class="pre">mat.set_principled_shader_value()</span></code> function.</li>
</ul>
</div>
<div class="section" id="basic-mesh-initializer">
<h3>Basic Mesh Initializer<a class="headerlink" href="#basic-mesh-initializer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">room_planes</span> <span class="o">=</span> <span class="p">[</span><span class="n">bproc</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">create_primitive</span><span class="p">(</span><span class="s1">&#39;PLANE&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
               <span class="n">bproc</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">create_primitive</span><span class="p">(</span><span class="s1">&#39;PLANE&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">1.570796</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
               <span class="n">bproc</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">create_primitive</span><span class="p">(</span><span class="s1">&#39;PLANE&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="p">[</span><span class="mf">1.570796</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
               <span class="n">bproc</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">create_primitive</span><span class="p">(</span><span class="s1">&#39;PLANE&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.570796</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
               <span class="n">bproc</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">create_primitive</span><span class="p">(</span><span class="s1">&#39;PLANE&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.570796</span><span class="p">,</span> <span class="mi">0</span><span class="p">])]</span>
<span class="k">for</span> <span class="n">plane</span> <span class="ow">in</span> <span class="n">room_planes</span><span class="p">:</span>
    <span class="n">plane</span><span class="o">.</span><span class="n">enable_rigidbody</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">collision_shape</span><span class="o">=</span><span class="s1">&#39;BOX&#39;</span><span class="p">,</span> <span class="n">friction</span> <span class="o">=</span> <span class="mf">100.0</span><span class="p">,</span> <span class="n">linear_damping</span> <span class="o">=</span> <span class="mf">0.99</span><span class="p">,</span> <span class="n">angular_damping</span> <span class="o">=</span> <span class="mf">0.99</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Construct minimal 4m x 4m x 4m room from 6 planes</li>
<li>Set <code class="docutils literal notranslate"><span class="pre">&quot;cp_physics&quot;:</span> <span class="pre">False</span></code> to fix the planes during any simulations</li>
<li>Give ground planes a BOX collision shape since they behave better.</li>
</ul>
</div>
<div class="section" id="id1">
<h3>Material Manipulator<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">light_plane</span> <span class="o">=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">create_primitive</span><span class="p">(</span><span class="s1">&#39;PLANE&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="n">light_plane</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s1">&#39;light_plane&#39;</span><span class="p">)</span>
<span class="n">light_plane_material</span> <span class="o">=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;light_material&#39;</span><span class="p">)</span>
<span class="n">light_plane_material</span><span class="o">.</span><span class="n">make_emissive</span><span class="p">(</span><span class="n">emission_strength</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
                                   <span class="n">emission_color</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]))</span>
<span class="n">light_plane</span><span class="o">.</span><span class="n">replace_materials</span><span class="p">(</span><span class="n">light_plane_material</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>For the top light plane, switch to an Emission shader and sample <code class="docutils literal notranslate"><span class="pre">emision_color</span></code> and <code class="docutils literal notranslate"><span class="pre">emission_strength</span></code> values of the emitted light.</li>
</ul>
</div>
<div class="section" id="ccmaterial-loader">
<h3>CCMaterial Loader<a class="headerlink" href="#ccmaterial-loader" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cc_textures</span> <span class="o">=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">loader</span><span class="o">.</span><span class="n">load_ccmaterials</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">cc_textures_path</span><span class="p">)</span>
<span class="n">random_cc_texture</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">cc_textures</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Load a random CC0Texture that was downloaded from <a class="reference external" href="https://cc0textures.com/">https://cc0textures.com/</a></li>
</ul>
</div>
<div class="section" id="entity-manipulator">
<h3>Entity Manipulator<a class="headerlink" href="#entity-manipulator" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">plane</span> <span class="ow">in</span> <span class="n">room_planes</span><span class="p">:</span>
    <span class="n">plane</span><span class="o">.</span><span class="n">replace_materials</span><span class="p">(</span><span class="n">random_cc_texture</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Sample a CCTextures material once for all loaded ground_planes.</li>
</ul>
</div>
<div class="section" id="object-pose-sampler">
<h3>Object Pose Sampler<a class="headerlink" href="#object-pose-sampler" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define a function that samples 6-DoF poses</span>
<span class="k">def</span> <span class="nf">sample_pose_func</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">bproc</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">MeshObject</span><span class="p">):</span>
    <span class="nb">min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">([</span><span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
    <span class="nb">max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">set_location</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">))</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">set_rotation_euler</span><span class="p">(</span><span class="n">bproc</span><span class="o">.</span><span class="n">sampler</span><span class="o">.</span><span class="n">uniformSO3</span><span class="p">())</span>

<span class="n">bproc</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">sample_poses</span><span class="p">(</span><span class="n">objects_to_sample</span> <span class="o">=</span> <span class="n">sampled_bop_objs</span> <span class="o">+</span> <span class="n">distractor_bop_objs</span><span class="p">,</span>
                        <span class="n">sample_pose_func</span> <span class="o">=</span> <span class="n">sample_pose_func</span><span class="p">,</span>
                        <span class="n">max_tries</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Samples initial object poses before applying physics</li>
<li>For all <code class="docutils literal notranslate"><span class="pre">&quot;objects_to_sample&quot;</span></code>, i.e. with <code class="docutils literal notranslate"><span class="pre">&quot;cp_physics&quot;:</span> <span class="pre">True</span></code>, uniformly sample a position in the specified range and a uniform SO3 rotation. Resamples if collisions occur.</li>
</ul>
</div>
<div class="section" id="physics-positioning">
<h3>Physics Positioning<a class="headerlink" href="#physics-positioning" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bproc</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">simulate_physics_and_fix_final_poses</span><span class="p">(</span><span class="n">min_simulation_time</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                                <span class="n">max_simulation_time</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                                <span class="n">check_object_interval</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                <span class="n">substeps_per_frame</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
                                                <span class="n">solver_iters</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Performs physics simuluation, i.e. dropping objects on the floor.</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;min_simulation_time&quot;,</span> <span class="pre">&quot;max_simulation_time&quot;</span></code> in seconds</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;check_object_interval&quot;</span></code> after which objects are checked to stand still</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;solver_iters&quot;:</span> <span class="pre">25</span></code> increase if physics glitches occur.</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;substeps_per_frame&quot;:</span> <span class="pre">20</span></code> increase if physics glitches occur.</li>
</ul>
</div>
<div class="section" id="light-sampler">
<h3>Light Sampler<a class="headerlink" href="#light-sampler" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">light_point</span> <span class="o">=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Light</span><span class="p">()</span>
<span class="n">light_point</span><span class="o">.</span><span class="n">set_energy</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<span class="n">light_point</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">location</span> <span class="o">=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">sampler</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">radius_min</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">radius_max</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">,</span>
                        <span class="n">elevation_min</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">elevation_max</span> <span class="o">=</span> <span class="mi">89</span><span class="p">,</span> <span class="n">uniform_volume</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">light_point</span><span class="o">.</span><span class="n">set_location</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Samples an additional point light source (next to ceiling) in a <code class="docutils literal notranslate"><span class="pre">&quot;bproc.sampler.shell&quot;</span></code> around the origin.</li>
</ul>
</div>
<div class="section" id="camera-sampler">
<h3>Camera Sampler<a class="headerlink" href="#camera-sampler" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">poses</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">poses</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
    <span class="c1"># Sample location</span>
    <span class="n">location</span> <span class="o">=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">sampler</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                            <span class="n">radius_min</span> <span class="o">=</span> <span class="mf">0.61</span><span class="p">,</span>
                            <span class="n">radius_max</span> <span class="o">=</span> <span class="mf">1.24</span><span class="p">,</span>
                            <span class="n">elevation_min</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
                            <span class="n">elevation_max</span> <span class="o">=</span> <span class="mi">89</span><span class="p">,</span>
                            <span class="n">uniform_volume</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="c1"># Determine point of interest in scene as the object closest to the mean of a subset of objects</span>
    <span class="n">poi</span> <span class="o">=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">compute_poi</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">sampled_bop_objs</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>
    <span class="c1"># Compute rotation based on vector going from location towards poi</span>
    <span class="n">rotation_matrix</span> <span class="o">=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">rotation_from_forward_vec</span><span class="p">(</span><span class="n">poi</span> <span class="o">-</span> <span class="n">location</span><span class="p">,</span> <span class="n">inplane_rot</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mf">0.7854</span><span class="p">,</span> <span class="mf">0.7854</span><span class="p">))</span>
    <span class="c1"># Add homog cam pose based on location an rotation</span>
    <span class="n">cam2world_matrix</span> <span class="o">=</span> <span class="n">bproc</span><span class="o">.</span><span class="n">math</span><span class="o">.</span><span class="n">build_transformation_mat</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">rotation_matrix</span><span class="p">)</span>

    <span class="c1"># Check that obstacles are at least 0.3 meter away from the camera and make sure the view interesting enough</span>
    <span class="k">if</span> <span class="n">bproc</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">perform_obstacle_in_view_check</span><span class="p">(</span><span class="n">cam2world_matrix</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">},</span> <span class="n">bop_bvh_tree</span><span class="p">):</span>
        <span class="c1"># Persist camera pose</span>
        <span class="n">bproc</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">add_camera_pose</span><span class="p">(</span><span class="n">cam2world_matrix</span><span class="p">)</span>
        <span class="n">poses</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<ul class="simple">
<li>Samples <code class="docutils literal notranslate"><span class="pre">&quot;poses&quot;:</span> <span class="pre">10</span></code> camera poses, where the camera location is sampled using a <code class="docutils literal notranslate"><span class="pre">bproc.sampler.shell</span></code> Provider with <code class="docutils literal notranslate"><span class="pre">&quot;uniform_elevation&quot;</span></code> sampling.</li>
<li>The camera rotation is defined by a point of interest (<code class="docutils literal notranslate"><span class="pre">&quot;poi&quot;</span></code>) plus a sampled <code class="docutils literal notranslate"><span class="pre">&quot;inplane_rot&quot;</span></code> in the specified range.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">&quot;poi&quot;</span></code> is defined by the object closest to the mean position of all objects that are returned by the <code class="docutils literal notranslate"><span class="pre">&quot;brpoc.object.compute_poi&quot;</span></code> function, i.e. <code class="docutils literal notranslate"><span class="pre">&quot;size&quot;:</span> <span class="pre">10</span></code> objects from the target BOP dataset.</li>
<li>Camera poses undergo <code class="docutils literal notranslate"><span class="pre">&quot;obstacle_in_view_checks&quot;</span></code> with respect to all objects besides ground_plane (<code class="docutils literal notranslate"><span class="pre">&quot;excluded_objs_in_proximity_check&quot;</span></code>) to ensure that no objects are closer than <code class="docutils literal notranslate"><span class="pre">&quot;min&quot;:</span> <span class="pre">0.3</span></code> meters.</li>
</ul>
</div>
<div class="section" id="rgb-renderer">
<h3>Rgb Renderer<a class="headerlink" href="#rgb-renderer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bproc</span><span class="o">.</span><span class="n">renderer</span><span class="o">.</span><span class="n">enable_depth_output</span><span class="p">(</span><span class="n">activate_antialiasing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">bproc</span><span class="o">.</span><span class="n">renderer</span><span class="o">.</span><span class="n">set_samples</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Renders RGB using 50 <code class="docutils literal notranslate"><span class="pre">&quot;samples&quot;</span></code> and also outputs depth images.</li>
</ul>
</div>
<div class="section" id="bop-writer">
<h3>Bop Writer<a class="headerlink" href="#bop-writer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bproc</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">write_bop</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span> <span class="s1">&#39;bop_data&#39;</span><span class="p">),</span>
                       <span class="n">dataset</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">bop_dataset_name</span><span class="p">,</span>
                       <span class="n">depths</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;depth&quot;</span><span class="p">],</span>
                       <span class="n">colors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;colors&quot;</span><span class="p">],</span>
                       <span class="n">color_file_format</span> <span class="o">=</span> <span class="s2">&quot;JPEG&quot;</span><span class="p">,</span>
                       <span class="n">ignore_dist_thres</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Saves all pose and camera information that is provided in BOP datasets.</li>
<li>Only considers objects from the given <code class="docutils literal notranslate"><span class="pre">&quot;dataset&quot;:</span> <span class="pre">&quot;&lt;args:1&gt;&quot;</span></code></li>
<li>Saves the images as jpg</li>
</ul>
</div>
</div>
<div class="section" id="more-examples">
<h2>More examples<a class="headerlink" href="#more-examples" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../bop_object_pose_sampling/README.html"><span class="doc">bop_object_pose_sampling</span></a>: Sample BOP object and camera poses.</li>
<li><a class="reference internal" href="../bop_scene_replication/README.html"><span class="doc">bop_scene_replication</span></a>: Replicate the scenes and cameras from BOP datasets in simulation.</li>
<li><a class="reference internal" href="../bop_object_on_surface_sampling/README.html"><span class="doc">bop_object_on_surface_sampling</span></a>: Sample upright poses on plane and randomize materials</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, DLR RMC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>