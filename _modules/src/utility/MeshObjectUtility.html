

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>src.utility.MeshObjectUtility &mdash; BlenderProc 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> BlenderProc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <div class="toctree-wrapper compound">
<p class="compound-first caption"><span class="compound-first caption-text">Examples</span></p>
<ul class="compound-middle">
<li class="toctree-l1"><a class="reference external" href="examples/basics/README.html">Basics</a><ul>
<li class="toctree-l2"><a class="reference external" href="examples/basics/basic/README.html">basic</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/basics/camera_object_pose/README.html">camera_object_pose</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/basics/camera_sampling/README.html">camera_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/basics/entity_manipulation/README.html">entity_manipulation</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/basics/light_sampling/README.html">light_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/basics/material_manipulation/README.html">material_manipulation</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/basics/physics_positioning/README.html">physics_positioning</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/basics/semantic_segmentation/README.html">semantic_segmentation</a></li>
</ul>
</li>
</ul>
<ul class="compound-middle">
<li class="toctree-l1"><a class="reference external" href="examples/advanced/README.html">Advanced</a><ul>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/auto_shading/README.html">auto_shading</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/calibration/README.html">calibration</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/camera_depth_of_field/README.html">camera_depth_of_field</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/coco_annotations/README.html">coco_annotations</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/diffuse_color_image/README.html">diffuse_color_image</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/dust/README.html">dust</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/entity_displacement_modifier/README.html">entity_displacement_modifier</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/material_randomizer/README.html">material_randomizer</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/motion_blur_rolling_shutter/README.html">motion_blur_rolling_shutter</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/object_pose_sampling/README.html">object_pose_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/on_surface_object_sampling/README.html">on_surface_object_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/optical_flow/README.html">optical_flow</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/physics_convex_decomposition/README.html">physics_convex_decomposition</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/random_backgrounds/README.html">random_backgrounds</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/random_room_constructor/README.html">random_room_constructor</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/advanced/stereo_matching/README.html">stereo_matching</a></li>
</ul>
</li>
</ul>
<ul class="compound-middle">
<li class="toctree-l1"><a class="reference external" href="examples/datasets/README.html">Datasets</a><ul>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/amass_human_poses/README.html">amass_human_poses</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/blenderkit/README.html">blenderkit</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/bop_challenge/README.html">bop_challenge</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/bop_object_on_surface_sampling/README.html">bop_object_on_surface_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/bop_object_physics_positioning/README.html">bop_object_physics_positioning</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/bop_object_pose_sampling/README.html">bop_object_pose_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/bop_scene_replication/README.html">bop_scene_replication</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/front_3d/README.html">front_3d</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/front_3d_with_improved_mat/README.html">front_3d_with_improved_mat</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/haven/README.html">haven</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/ikea/README.html">ikea</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/pix3d/README.html">pix3d</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/replica/README.html">replica</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/rock_essentials/README.html">rock_essentials</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/scenenet/README.html">scenenet</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/scenenet_with_cctextures/README.html">scenenet_with_cctextures</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/shapenet/README.html">shapenet</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/shapenet_with_scenenet/README.html">shapenet_with_scenenet</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/shapenet_with_suncg/README.html">shapenet_with_suncg</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/suncg_basic/README.html">suncg_basic</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/suncg_with_cam_sampling/README.html">suncg_with_cam_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/suncg_with_improved_mat/README.html">suncg_with_improved_mat</a></li>
<li class="toctree-l2"><a class="reference external" href="examples/datasets/suncg_with_object_replacer/README.html">suncg_with_object_replacer</a></li>
</ul>
</li>
</ul>
<ul class="compound-middle">
<p class="caption"><span class="caption-text">Modules</span></p>
<li class="toctree-l1"><a class="reference external" href="src.camera.html">Camera</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.camera.CameraInterface.html#src.camera.CameraInterface.CameraInterface">CameraInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="src.camera.CameraLoader.html#src.camera.CameraLoader.CameraLoader">CameraLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="src.camera.CameraSampler.html#src.camera.CameraSampler.CameraSampler">CameraSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="src.camera.Front3DCameraSampler.html#src.camera.Front3DCameraSampler.Front3DCameraSampler">Front3DCameraSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="src.camera.ReplicaCameraSampler.html#src.camera.ReplicaCameraSampler.ReplicaCameraSampler">ReplicaCameraSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="src.camera.SuncgCameraSampler.html#src.camera.SuncgCameraSampler.SuncgCameraSampler">SuncgCameraSampler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="src.composite.html">Composite</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.composite.CameraObjectSampler.html#src.composite.CameraObjectSampler.CameraObjectSampler">CameraObjectSampler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="src.constructor.html">Constructor</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.constructor.BasicEmptyInitializer.html#src.constructor.BasicEmptyInitializer.BasicEmptyInitializer">BasicEmptyInitializer</a></li>
<li class="toctree-l2"><a class="reference external" href="src.constructor.BasicMeshInitializer.html#src.constructor.BasicMeshInitializer.BasicMeshInitializer">BasicMeshInitializer</a></li>
<li class="toctree-l2"><a class="reference external" href="src.constructor.RandomRoomConstructorModule.html#src.constructor.RandomRoomConstructorModule.RandomRoomConstructorModule">RandomRoomConstructorModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.constructor.RockEssentialsGroundConstructor.html#src.constructor.RockEssentialsGroundConstructor.RockEssentialsGroundConstructor">RockEssentialsGroundConstructor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="src.lighting.html">Lighting</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.lighting.LightInterface.html#src.lighting.LightInterface.LightInterface">LightInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="src.lighting.LightLoader.html#src.lighting.LightLoader.LightLoader">LightLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="src.lighting.LightSampler.html#src.lighting.LightSampler.LightSampler">LightSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="src.lighting.SuncgLightingModule.html#src.lighting.SuncgLightingModule.SuncgLightingModule">SuncgLightingModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.lighting.SurfaceLightingModule.html#src.lighting.SurfaceLightingModule.SurfaceLightingModule">SurfaceLightingModule</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="src.loader.html">Loader</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.loader.AMASSLoaderModule.html#src.loader.AMASSLoaderModule.AMASSLoaderModule">AMASSLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.BlendLoaderModule.html#src.loader.BlendLoaderModule.BlendLoaderModule">BlendLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.BopLoaderModule.html#src.loader.BopLoaderModule.BopLoaderModule">BopLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.CCMaterialLoaderModule.html#src.loader.CCMaterialLoaderModule.CCMaterialLoaderModule">CCMaterialLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.Front3DLoaderModule.html#src.loader.Front3DLoaderModule.Front3DLoaderModule">Front3DLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.HavenEnvironmentLoaderModule.html#src.loader.HavenEnvironmentLoaderModule.HavenEnvironmentLoaderModule">HavenEnvironmentLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.HavenMaterialLoaderModule.html#src.loader.HavenMaterialLoaderModule.HavenMaterialLoaderModule">HavenMaterialLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.IKEALoaderModule.html#src.loader.IKEALoaderModule.IKEALoaderModule">IKEALoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.LoaderInterface.html#src.loader.LoaderInterface.LoaderInterface">LoaderInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.ObjectLoaderModule.html#src.loader.ObjectLoaderModule.ObjectLoaderModule">ObjectLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.Pix3DLoaderModule.html#src.loader.Pix3DLoaderModule.Pix3DLoaderModule">Pix3DLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.ReplicaLoaderModule.html#src.loader.ReplicaLoaderModule.ReplicaLoaderModule">ReplicaLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.RockEssentialsRockLoaderModule.html#src.loader.RockEssentialsRockLoaderModule.RockEssentialsRockLoaderModule">RockEssentialsRockLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.SceneNetLoaderModule.html#src.loader.SceneNetLoaderModule.SceneNetLoaderModule">SceneNetLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.ShapeNetLoaderModule.html#src.loader.ShapeNetLoaderModule.ShapeNetLoaderModule">ShapeNetLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.SuncgLoaderModule.html#src.loader.SuncgLoaderModule.SuncgLoaderModule">SuncgLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.TextureLoaderModule.html#src.loader.TextureLoaderModule.TextureLoaderModule">TextureLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.loader.VisNormalImage.html#src.loader.VisNormalImage.VisNormalImage">VisNormalImage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="src.manipulators.html">Manipulators</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.manipulators.EntityManipulator.html#src.manipulators.EntityManipulator.EntityManipulator">EntityManipulator</a></li>
<li class="toctree-l2"><a class="reference external" href="src.manipulators.MaterialManipulator.html#src.manipulators.MaterialManipulator.MaterialManipulator">MaterialManipulator</a></li>
<li class="toctree-l2"><a class="reference external" href="src.manipulators.WorldManipulator.html#src.manipulators.WorldManipulator.WorldManipulator">WorldManipulator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="src.materials.html">Materials</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.materials.RockEssentialsTextureSampler.html#src.materials.RockEssentialsTextureSampler.RockEssentialsTextureSampler">RockEssentialsTextureSampler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="src.object.html">Object</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.object.CalibrationboardSampler.html#src.object.CalibrationboardSampler.CalibrationboardSampler">CalibrationboardSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="src.object.FloorExtractorModule.html#src.object.FloorExtractorModule.FloorExtractorModule">FloorExtractorModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.object.HideModule.html#src.object.HideModule.HideModule">HideModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.object.IntrinsicsChecker.html#src.object.IntrinsicsChecker.IntrinsicsChecker">IntrinsicsChecker</a></li>
<li class="toctree-l2"><a class="reference external" href="src.object.ObjectPoseSamplerModule.html#src.object.ObjectPoseSamplerModule.ObjectPoseSamplerModule">ObjectPoseSamplerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.object.ObjectReplacerModule.html#src.object.ObjectReplacerModule.ObjectReplacerModule">ObjectReplacerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.object.OnSurfaceSampler.html#src.object.OnSurfaceSampler.OnSurfaceSampler">OnSurfaceSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="src.object.PhysicsPositioningModule.html#src.object.PhysicsPositioningModule.PhysicsPositioningModule">PhysicsPositioningModule</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="src.postprocessing.html">Postprocessing</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.postprocessing.Dist2Depth.html#src.postprocessing.Dist2Depth.Dist2Depth">Dist2Depth</a></li>
<li class="toctree-l2"><a class="reference external" href="src.postprocessing.NoiseRemoval.html#src.postprocessing.NoiseRemoval.NoiseRemoval">NoiseRemoval</a></li>
<li class="toctree-l2"><a class="reference external" href="src.postprocessing.OilPaintFilter.html#src.postprocessing.OilPaintFilter.OilPaintFilter">OilPaintFilter</a></li>
<li class="toctree-l2"><a class="reference external" href="src.postprocessing.TrimRedundantChannels.html#src.postprocessing.TrimRedundantChannels.TrimRedundantChannels">TrimRedundantChannels</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="src.renderer.html">Renderer</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.renderer.FlowRenderer.html#src.renderer.FlowRenderer.FlowRenderer">FlowRenderer</a></li>
<li class="toctree-l2"><a class="reference external" href="src.renderer.RendererInterface.html#src.renderer.RendererInterface.RendererInterface">RendererInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="src.renderer.RgbRenderer.html#src.renderer.RgbRenderer.RgbRenderer">RgbRenderer</a></li>
<li class="toctree-l2"><a class="reference external" href="src.renderer.SegMapRenderer.html#src.renderer.SegMapRenderer.SegMapRenderer">SegMapRenderer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="src.writer.html">Writer</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.writer.BopWriter.html#src.writer.BopWriter.BopWriter">BopWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="src.writer.CameraStateWriter.html#src.writer.CameraStateWriter.CameraStateWriter">CameraStateWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="src.writer.CocoAnnotationsWriter.html#src.writer.CocoAnnotationsWriter.CocoAnnotationsWriter">CocoAnnotationsWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="src.writer.Hdf5Writer.html#src.writer.Hdf5Writer.Hdf5Writer">Hdf5Writer</a></li>
<li class="toctree-l2"><a class="reference external" href="src.writer.LightStateWriter.html#src.writer.LightStateWriter.LightStateWriter">LightStateWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="src.writer.ObjectStateWriter.html#src.writer.ObjectStateWriter.ObjectStateWriter">ObjectStateWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="src.writer.ShapeNetWriter.html#src.writer.ShapeNetWriter.ShapeNetWriter">ShapeNetWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="src.writer.StereoGlobalMatchingWriter.html#src.writer.StereoGlobalMatchingWriter.StereoGlobalMatchingWriter">StereoGlobalMatchingWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="src.writer.WriterInterface.html#src.writer.WriterInterface.WriterInterface">WriterInterface</a></li>
</ul>
</li>
</ul>
<ul class="compound-middle">
<p class="caption"><span class="caption-text">Provider</span></p>
<li class="toctree-l1"><a class="reference external" href="src.provider.getter.html">Getter</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.provider.getter.Attribute.html#src.provider.getter.Attribute.Attribute">Attribute</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.getter.AttributeMerger.html#src.provider.getter.AttributeMerger.AttributeMerger">AttributeMerger</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.getter.Entity.html#src.provider.getter.Entity.Entity">Entity</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.getter.Material.html#src.provider.getter.Material.Material">Material</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.getter.POI.html#src.provider.getter.POI.POI">POI</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.getter.Texture.html#src.provider.getter.Texture.Texture">Texture</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="src.provider.sampler.html">Sampler</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.provider.sampler.Color.html#src.provider.sampler.Color.Color">Color</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.sampler.DiskModule.html#src.provider.sampler.DiskModule.DiskModule">DiskModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.sampler.PartSphereModule.html#src.provider.sampler.PartSphereModule.PartSphereModule">PartSphereModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.sampler.Path.html#src.provider.sampler.Path.Path">Path</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.sampler.ShellModule.html#src.provider.sampler.ShellModule.ShellModule">ShellModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.sampler.SphereModule.html#src.provider.sampler.SphereModule.SphereModule">SphereModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.sampler.Texture.html#src.provider.sampler.Texture.Texture">Texture</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.sampler.Uniform3d.html#src.provider.sampler.Uniform3d.Uniform3d">Uniform3d</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.sampler.UniformSO3Module.html#src.provider.sampler.UniformSO3Module.UniformSO3Module">UniformSO3Module</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.sampler.UpperRegionSamplerModule.html#src.provider.sampler.UpperRegionSamplerModule.UpperRegionSamplerModule">UpperRegionSamplerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.provider.sampler.Value.html#src.provider.sampler.Value.Value">Value</a></li>
</ul>
</li>
</ul>
<ul class="compound-last">
<p class="caption"><span class="caption-text">Core</span></p>
<li class="toctree-l1"><a class="reference external" href="src.main.html">Main</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.main.GlobalStorage.html#src.main.GlobalStorage.GlobalStorage">GlobalStorage</a></li>
<li class="toctree-l2"><a class="reference external" href="src.main.InitializerModule.html#src.main.InitializerModule.InitializerModule">InitializerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="src.main.Module.html#src.main.Module.Module">Module</a></li>
<li class="toctree-l2"><a class="reference external" href="src.main.Pipeline.html#src.main.Pipeline.Pipeline">Pipeline</a></li>
<li class="toctree-l2"><a class="reference external" href="src.main.Provider.html#src.main.Provider.Provider">Provider</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference external" href="src.utility.html">Utility</a><ul>
<li class="toctree-l2"><a class="reference external" href="src.utility.BopWriterUtility.html#src.utility.BopWriterUtility.BopWriterUtility">BopWriterUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.CameraUtility.html#src.utility.CameraUtility.CameraUtility">CameraUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.CocoWriterUtility.html#src.utility.CocoWriterUtility.CocoWriterUtility">CocoWriterUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.CollisionUtility.html#src.utility.CollisionUtility.CollisionUtility">CollisionUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.Config.html#src.utility.Config.Config">Config</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.ConfigParser.html#src.utility.ConfigParser.ConfigParser">ConfigParser</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.ConfigParser.html#src.utility.ConfigParser.PlaceholderTypes">PlaceholderTypes</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.DefaultConfig.html#src.utility.DefaultConfig.DefaultConfig">DefaultConfig</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.EntityUtility.html#src.utility.EntityUtility.Entity">Entity</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.FlowRendererUtility.html#src.utility.FlowRendererUtility.FlowRendererUtility">FlowRendererUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.Initializer.html#src.utility.Initializer.Initializer">Initializer</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.ItemCollection.html#src.utility.ItemCollection.ItemCollection">ItemCollection</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.ItemWriter.html#src.utility.ItemWriter.ItemWriter">ItemWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.LabelIdMapping.html#src.utility.LabelIdMapping.LabelIdMapping">LabelIdMapping</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.LightUtility.html#src.utility.LightUtility.Light">Light</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.MaterialLoaderUtility.html#src.utility.MaterialLoaderUtility.MaterialLoaderUtility">MaterialLoaderUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.MaterialUtility.html#src.utility.MaterialUtility.Material">Material</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.MathUtility.html#src.utility.MathUtility.MathUtility">MathUtility</a></li>
<li class="toctree-l2 current"><a class="reference external" href="#src.utility.MeshObjectUtility.MeshObject">MeshObject</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.PostProcessingUtility.html#src.utility.PostProcessingUtility.PostProcessingUtility">PostProcessingUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.RendererUtility.html#src.utility.RendererUtility.RendererUtility">RendererUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.SegMapRendererUtility.html#src.utility.SegMapRendererUtility.SegMapRendererUtility">SegMapRendererUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.SetupUtility.html#src.utility.SetupUtility.SetupUtility">SetupUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.StructUtility.html#src.utility.StructUtility.Struct">Struct</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.Utility.html#src.utility.Utility.KeyFrame">KeyFrame</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.Utility.html#src.utility.Utility.KeyFrameState">KeyFrameState</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.Utility.html#src.utility.Utility.Utility">Utility</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.Utility.html#src.utility.Utility.Utility.BlockStopWatch">BlockStopWatch</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.Utility.html#src.utility.Utility.Utility.UndoAfterExecution">UndoAfterExecution</a></li>
<li class="toctree-l2"><a class="reference external" href="src.utility.WriterUtility.html#src.utility.WriterUtility.WriterUtility">WriterUtility</a></li>
</ul>
</li>
</ul>
</div>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">BlenderProc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>src.utility.MeshObjectUtility</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for src.utility.MeshObjectUtility</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Tuple</span>

<span class="kn">import</span> <span class="nn">bpy</span>

<span class="kn">from</span> <span class="nn">external.vhacd.decompose</span> <span class="kn">import</span> <span class="n">convex_decomposition</span>
<span class="kn">from</span> <span class="nn">src.utility.EntityUtility</span> <span class="kn">import</span> <span class="n">Entity</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mathutils</span> <span class="kn">import</span> <span class="n">Vector</span><span class="p">,</span> <span class="n">Matrix</span>

<span class="kn">from</span> <span class="nn">src.utility.Utility</span> <span class="kn">import</span> <span class="n">Utility</span>

<span class="kn">from</span> <span class="nn">src.utility.MaterialUtility</span> <span class="kn">import</span> <span class="n">Material</span>

<span class="kn">import</span> <span class="nn">bmesh</span>
<span class="kn">import</span> <span class="nn">mathutils</span>

<div class="viewcode-block" id="MeshObject"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject">[docs]</a><span class="k">class</span> <span class="nc">MeshObject</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">:</span> <span class="n">bpy</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Object</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>

<div class="viewcode-block" id="MeshObject.create_from_blender_mesh"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.create_from_blender_mesh">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">create_from_blender_mesh</span><span class="p">(</span><span class="n">blender_mesh</span><span class="p">:</span> <span class="n">bpy</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Mesh</span><span class="p">,</span> <span class="n">object_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MeshObject&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Creates a new Mesh object using the given blender mesh.</span>

<span class="sd">        :param blender_mesh: The blender mesh.</span>
<span class="sd">        :param object_name: The name of the new object. If None is given, the name of the given mesh is used.</span>
<span class="sd">        :return: The new Mesh object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># link this mesh inside of a new object</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">blender_mesh</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">object_name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">object_name</span><span class="p">,</span> <span class="n">blender_mesh</span><span class="p">)</span>
        <span class="c1"># link the object in the collection</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MeshObject</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></div>

<div class="viewcode-block" id="MeshObject.create_with_empty_mesh"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.create_with_empty_mesh">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">create_with_empty_mesh</span><span class="p">(</span><span class="n">object_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">mesh_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MeshObject&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Creates an object with an empty mesh.</span>
<span class="sd">        :param object_name: The name of the new object.</span>
<span class="sd">        :param mesh_name: The name of the contained blender mesh. If None is given, the object name is used.</span>
<span class="sd">        :return: The new Mesh object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">mesh_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">mesh_name</span> <span class="o">=</span> <span class="n">object_name</span>
        <span class="k">return</span> <span class="n">MeshObject</span><span class="o">.</span><span class="n">create_from_blender_mesh</span><span class="p">(</span><span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">meshes</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">mesh_name</span><span class="p">),</span> <span class="n">object_name</span><span class="p">)</span></div>

<div class="viewcode-block" id="MeshObject.create_primitive"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.create_primitive">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">create_primitive</span><span class="p">(</span><span class="n">shape</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MeshObject&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Creates a new primitive mesh object.</span>

<span class="sd">        :param shape: The name of the primitive to create. Available: [&quot;CUBE&quot;]</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">shape</span> <span class="o">==</span> <span class="s2">&quot;CUBE&quot;</span><span class="p">:</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">primitive_cube_add</span><span class="p">(</span><span class="o">*</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">shape</span> <span class="o">==</span> <span class="s2">&quot;CYLINDER&quot;</span><span class="p">:</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">primitive_cylinder_add</span><span class="p">(</span><span class="o">*</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">shape</span> <span class="o">==</span> <span class="s2">&quot;CONE&quot;</span><span class="p">:</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">primitive_cone_add</span><span class="p">(</span><span class="o">*</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">shape</span> <span class="o">==</span> <span class="s2">&quot;PLANE&quot;</span><span class="p">:</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">primitive_plane_add</span><span class="p">(</span><span class="o">*</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">shape</span> <span class="o">==</span> <span class="s2">&quot;SPHERE&quot;</span><span class="p">:</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">primitive_uv_sphere_add</span><span class="p">(</span><span class="o">*</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">shape</span> <span class="o">==</span> <span class="s2">&quot;MONKEY&quot;</span><span class="p">:</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">primitive_monkey_add</span><span class="p">(</span><span class="o">*</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No such shape: &quot;</span> <span class="o">+</span> <span class="n">shape</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">MeshObject</span><span class="p">(</span><span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">object</span><span class="p">)</span></div>

<div class="viewcode-block" id="MeshObject.convert_to_meshes"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.convert_to_meshes">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">convert_to_meshes</span><span class="p">(</span><span class="n">blender_objects</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;MeshObject&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot; Converts the given list of blender objects to mesh objects</span>

<span class="sd">        :param blender_objects: List of blender objects.</span>
<span class="sd">        :return: The list of meshes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">MeshObject</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">blender_objects</span><span class="p">]</span></div>

<div class="viewcode-block" id="MeshObject.get_materials"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.get_materials">[docs]</a>    <span class="k">def</span> <span class="nf">get_materials</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Material</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot; Returns the materials used by the mesh.</span>

<span class="sd">        :return: A list of materials.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Material</span><span class="o">.</span><span class="n">convert_to_materials</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">materials</span><span class="p">)</span></div>

<div class="viewcode-block" id="MeshObject.has_materials"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.has_materials">[docs]</a>    <span class="k">def</span> <span class="nf">has_materials</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">materials</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span></div>

<div class="viewcode-block" id="MeshObject.set_material"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.set_material">[docs]</a>    <span class="k">def</span> <span class="nf">set_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">material</span><span class="p">:</span> <span class="n">Material</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the given material at the given index of the objects material list.</span>

<span class="sd">        :param index: The index to set the material to.</span>
<span class="sd">        :param material: The material to set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">blender_obj</span></div>

<div class="viewcode-block" id="MeshObject.add_material"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.add_material">[docs]</a>    <span class="k">def</span> <span class="nf">add_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">material</span><span class="p">:</span> <span class="n">Material</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Adds a new material to the object.</span>

<span class="sd">        :param material: The material to add.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">blender_obj</span><span class="p">)</span></div>

<div class="viewcode-block" id="MeshObject.new_material"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.new_material">[docs]</a>    <span class="k">def</span> <span class="nf">new_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a new material and adds it to the object.</span>

<span class="sd">        :param name: The name of the new material.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_mat</span> <span class="o">=</span> <span class="n">Material</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_material</span><span class="p">(</span><span class="n">new_mat</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_mat</span></div>

<div class="viewcode-block" id="MeshObject.clear_materials"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.clear_materials">[docs]</a>    <span class="k">def</span> <span class="nf">clear_materials</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Removes all materials from the object. &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span></div>

<div class="viewcode-block" id="MeshObject.replace_materials"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.replace_materials">[docs]</a>    <span class="k">def</span> <span class="nf">replace_materials</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">material</span><span class="p">:</span> <span class="n">bpy</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Material</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Replaces all materials of the object with the given new material.</span>

<span class="sd">        :param material: A material that should exclusively be used as new material for the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># first remove all existing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_materials</span><span class="p">()</span>
        <span class="c1"># add the new one</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_material</span><span class="p">(</span><span class="n">material</span><span class="p">)</span></div>

<div class="viewcode-block" id="MeshObject.duplicate"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.duplicate">[docs]</a>    <span class="k">def</span> <span class="nf">duplicate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Duplicates the object.</span>

<span class="sd">        :return: A new mesh object, which is a duplicate of this object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_entity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">new_entity</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">new_entity</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MeshObject</span><span class="p">(</span><span class="n">new_entity</span><span class="p">)</span></div>

<div class="viewcode-block" id="MeshObject.get_mesh"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.get_mesh">[docs]</a>    <span class="k">def</span> <span class="nf">get_mesh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">bpy</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Mesh</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Returns the blender mesh of the object.</span>

<span class="sd">        :return: The mesh.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">data</span></div>

<div class="viewcode-block" id="MeshObject.set_shading_mode"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.set_shading_mode">[docs]</a>    <span class="k">def</span> <span class="nf">set_shading_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">angle_value</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">30</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the shading mode of all faces of the object.</span>

<span class="sd">        :param mode: Desired mode of the shading. Available: [&quot;FLAT&quot;, &quot;SMOOTH&quot;, &quot;AUTO&quot;]. Type: str</span>
<span class="sd">        :param angle_value: Angle in degrees at which flat shading is activated in `AUTO` mode. Type: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;flat&quot;</span><span class="p">:</span>
            <span class="n">is_smooth</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">use_auto_smooth</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">mode</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;smooth&quot;</span><span class="p">:</span>
            <span class="n">is_smooth</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">use_auto_smooth</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">mode</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
            <span class="n">is_smooth</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">use_auto_smooth</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">auto_smooth_angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="n">angle_value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;This shading mode is unknown: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mesh</span><span class="p">()</span><span class="o">.</span><span class="n">polygons</span><span class="p">:</span>
            <span class="n">face</span><span class="o">.</span><span class="n">use_smooth</span> <span class="o">=</span> <span class="n">is_smooth</span></div>

<div class="viewcode-block" id="MeshObject.move_origin_to_bottom_mean_point"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.move_origin_to_bottom_mean_point">[docs]</a>    <span class="k">def</span> <span class="nf">move_origin_to_bottom_mean_point</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Moves the object center to bottom of the bounding box in Z direction and also in the middle of the X and Y</span>
<span class="sd">        plane, which then makes the placement easier.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">select_all</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;DESELECT&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">view_layer</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span>
        <span class="n">bb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bound_box</span><span class="p">()</span>
        <span class="n">bb_center</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">bb</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">bb_min_z_value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">bb</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">mode_set</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;EDIT&#39;</span><span class="p">)</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="n">bb_center</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">-</span><span class="n">bb_center</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="n">bb_min_z_value</span><span class="p">])</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">mode_set</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;OBJECT&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deselect</span><span class="p">()</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">view_layer</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

<div class="viewcode-block" id="MeshObject.get_bound_box"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.get_bound_box">[docs]</a>    <span class="k">def</span> <span class="nf">get_bound_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">local_coords</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: 8x3 array describing the object aligned bounding box coordinates in world coordinates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">local_coords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">matrix_world</span> <span class="o">@</span> <span class="n">Vector</span><span class="p">(</span><span class="n">cord</span><span class="p">)</span> <span class="k">for</span> <span class="n">cord</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">bound_box</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">Vector</span><span class="p">(</span><span class="n">cord</span><span class="p">)</span> <span class="k">for</span> <span class="n">cord</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">bound_box</span><span class="p">])</span></div>

<div class="viewcode-block" id="MeshObject.persist_transformation_into_mesh"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.persist_transformation_into_mesh">[docs]</a>    <span class="k">def</span> <span class="nf">persist_transformation_into_mesh</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">rotation</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Apply the current transformation of the object, which are saved in the location, scale or rotation attributes</span>
<span class="sd">        to the mesh and sets them to their init values.</span>

<span class="sd">        :param location: Determines whether the object&#39;s location should be persisted.</span>
<span class="sd">        :param rotation: Determines whether the object&#39;s rotation should be persisted.</span>
<span class="sd">        :param scale: Determines whether the object&#39;s scale should be persisted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">transform_apply</span><span class="p">({</span><span class="s2">&quot;selected_editable_objects&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="p">]},</span> <span class="n">location</span><span class="o">=</span><span class="n">location</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="n">rotation</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">)</span></div>

<div class="viewcode-block" id="MeshObject.get_origin"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.get_origin">[docs]</a>    <span class="k">def</span> <span class="nf">get_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Returns the origin of the object.</span>

<span class="sd">        :return: The origin in world coordinates.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span></div>

<div class="viewcode-block" id="MeshObject.set_origin"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.set_origin">[docs]</a>    <span class="k">def</span> <span class="nf">set_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">point</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">Vector</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;POINT&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Sets the origin of the object.</span>

<span class="sd">        This will not change the appearing pose of the object, as the vertex locations experience the inverse transformation applied to the origin.</span>

<span class="sd">        :param point: The point in world coordinates to which the origin should be set. This parameter is only relevent if mode is set to &quot;POINT&quot;.</span>
<span class="sd">        :param mode: The mode specifying how the origin should be set. Available options are: [&quot;POINT&quot;, &quot;CENTER_OF_MASS&quot;, &quot;CENTER_OF_VOLUME&quot;]</span>
<span class="sd">        :return: The new origin in world coordinates.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">context</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;selected_editable_objects&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="p">]}</span>

        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;POINT&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">point</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The parameter point is not given even though the mode is set to POINT.&quot;</span><span class="p">)</span>
            <span class="n">prev_cursor_location</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">location</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">point</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">origin_set</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;ORIGIN_CURSOR&#39;</span><span class="p">)</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">prev_cursor_location</span>
        <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;CENTER_OF_MASS&quot;</span><span class="p">:</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">origin_set</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;ORIGIN_CENTER_OF_MASS&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;CENTER_OF_VOLUME&quot;</span><span class="p">:</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">origin_set</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;ORIGIN_CENTER_OF_VOLUME&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No such mode: &quot;</span> <span class="o">+</span> <span class="n">mode</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_origin</span><span class="p">()</span></div>

<div class="viewcode-block" id="MeshObject.enable_rigidbody"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.enable_rigidbody">[docs]</a>    <span class="k">def</span> <span class="nf">enable_rigidbody</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">active</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">collision_shape</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;CONVEX_HULL&#39;</span><span class="p">,</span> <span class="n">collision_margin</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span> <span class="n">collision_mesh_source</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;FINAL&quot;</span><span class="p">,</span> <span class="n">mass</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">mass_factor</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">friction</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">angular_damping</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">linear_damping</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.04</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Enables the rigidbody component of the object which makes it participate in physics simulations.</span>

<span class="sd">        :param active: If True, the object actively participates in the simulation and its key frames are ignored. If False, the object still follows its keyframes and only acts as an obstacle, but is not influenced by the simulation.</span>
<span class="sd">        :param collision_shape: Collision shape of object in simulation. Default: &#39;CONVEX_HULL&#39;. Available: &#39;BOX&#39;, &#39;SPHERE&#39;, &#39;CAPSULE&#39;, &#39;CYLINDER&#39;, &#39;CONE&#39;, &#39;CONVEX_HULL&#39;, &#39;MESH&#39;, &#39;COMPOUND&#39;.</span>
<span class="sd">        :param collision_margin: The margin around objects where collisions are already recognized. Higher values improve stability, but also make objects hover a bit.</span>
<span class="sd">        :param collision_mesh_source: Source of the mesh used to create collision shape. Default: &#39;FINAL&#39;. Available: &#39;BASE&#39;, &#39;DEFORM&#39;, &#39;FINAL&#39;.</span>
<span class="sd">        :param mass: The mass in kilogram the object should have. If None is given the mass is calculated based on its bounding box volume and the given `mass_factor`.</span>
<span class="sd">        :param mass_factor: Scaling factor for mass. This is only considered if the given `mass` is None. Defines the linear function mass=bounding_box_volume*mass_factor (defines material density).</span>
<span class="sd">        :param friction: Resistance of object to movement.</span>
<span class="sd">        :param angular_damping: Amount of angular velocity that is lost over time.</span>
<span class="sd">        :param linear_damping: Amount of linear velocity that is lost over time.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Enable rigid body component</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">rigidbody</span><span class="o">.</span><span class="n">object_add</span><span class="p">({</span><span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="p">})</span>
        <span class="c1"># Sett attributes</span>
        <span class="n">rigid_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">rigid_body</span>
        <span class="n">rigid_body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;ACTIVE&quot;</span> <span class="k">if</span> <span class="n">active</span> <span class="k">else</span> <span class="s2">&quot;PASSIVE&quot;</span>
        <span class="n">rigid_body</span><span class="o">.</span><span class="n">collision_shape</span> <span class="o">=</span> <span class="n">collision_shape</span>
        <span class="n">rigid_body</span><span class="o">.</span><span class="n">collision_margin</span> <span class="o">=</span> <span class="n">collision_margin</span>
        <span class="n">rigid_body</span><span class="o">.</span><span class="n">use_margin</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">rigid_body</span><span class="o">.</span><span class="n">mesh_source</span> <span class="o">=</span> <span class="n">collision_mesh_source</span>
        <span class="n">rigid_body</span><span class="o">.</span><span class="n">friction</span> <span class="o">=</span> <span class="n">friction</span>
        <span class="n">rigid_body</span><span class="o">.</span><span class="n">angular_damping</span> <span class="o">=</span> <span class="n">angular_damping</span>
        <span class="n">rigid_body</span><span class="o">.</span><span class="n">linear_damping</span> <span class="o">=</span> <span class="n">linear_damping</span>

        <span class="k">if</span> <span class="n">mass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">rigid_body</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bound_box_volume</span><span class="p">()</span> <span class="o">*</span> <span class="n">mass_factor</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rigid_body</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="n">mass</span></div>

<div class="viewcode-block" id="MeshObject.build_convex_decomposition_collision_shape"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.build_convex_decomposition_collision_shape">[docs]</a>    <span class="k">def</span> <span class="nf">build_convex_decomposition_collision_shape</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">temp_dir</span><span class="p">,</span> <span class="n">cache_dir</span><span class="o">=</span><span class="s2">&quot;resources/decomposition_cache&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Builds a collision shape of the object by decomposing it into near convex parts using V-HACD</span>

<span class="sd">        :param temp_dir: The temp dir to use for storing the object files created by v-hacd.</span>
<span class="sd">        :param cache_dir: If a directory is given, convex decompositions are stored there named after the meshes hash. If the same mesh is decomposed a second time, the result is loaded from the cache and the actual decomposition is skipped.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Decompose the object</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">convex_decomposition</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="p">,</span> <span class="n">temp_dir</span><span class="p">,</span> <span class="n">cache_dir</span><span class="o">=</span><span class="n">Utility</span><span class="o">.</span><span class="n">resolve_path</span><span class="p">(</span><span class="n">cache_dir</span><span class="p">))</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="p">[</span><span class="n">MeshObject</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">]</span>

        <span class="c1"># Make the convex parts children of this object, enable their rigid body component and hide them</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">:</span>
            <span class="n">part</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">part</span><span class="o">.</span><span class="n">enable_rigidbody</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;CONVEX_HULL&quot;</span><span class="p">)</span>
            <span class="n">part</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span></div>

<div class="viewcode-block" id="MeshObject.hide"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.hide">[docs]</a>    <span class="k">def</span> <span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hide_object</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the visibility of the object.</span>

<span class="sd">        :param hide_object: Determines whether the object should be hidden in rendering.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">hide_render</span> <span class="o">=</span> <span class="n">hide_object</span></div>

<div class="viewcode-block" id="MeshObject.set_parent"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.set_parent">[docs]</a>    <span class="k">def</span> <span class="nf">set_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_parent</span><span class="p">:</span> <span class="s2">&quot;MeshObject&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the parent of this object.</span>

<span class="sd">        :param new_parent: The new parent object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">new_parent</span><span class="o">.</span><span class="n">blender_obj</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">matrix_parent_inverse</span> <span class="o">=</span> <span class="n">new_parent</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">matrix_world</span><span class="o">.</span><span class="n">inverted</span><span class="p">()</span></div>

<div class="viewcode-block" id="MeshObject.get_parent"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.get_parent">[docs]</a>    <span class="k">def</span> <span class="nf">get_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MeshObject&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Returns the parent object.</span>

<span class="sd">        :return: The parent object, None if it has no parent.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">MeshObject</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="MeshObject.disable_rigidbody"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.disable_rigidbody">[docs]</a>    <span class="k">def</span> <span class="nf">disable_rigidbody</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Disables the rigidbody element of the object &quot;&quot;&quot;</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">rigidbody</span><span class="o">.</span><span class="n">object_remove</span><span class="p">({</span><span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="p">})</span></div>

<div class="viewcode-block" id="MeshObject.get_rigidbody"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.get_rigidbody">[docs]</a>    <span class="k">def</span> <span class="nf">get_rigidbody</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">bpy</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">RigidBodyObject</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Returns the rigid body component</span>

<span class="sd">        :return: The rigid body component of the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">rigid_body</span></div>

<div class="viewcode-block" id="MeshObject.get_bound_box_volume"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.get_bound_box_volume">[docs]</a>    <span class="k">def</span> <span class="nf">get_bound_box_volume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Gets the volume of the object aligned bounding box.</span>

<span class="sd">        :return: volume of a bounding box.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bound_box</span><span class="p">()</span>
        <span class="c1"># Search for the point which is the maximum distance away from the first point</span>
        <span class="c1"># we call this first point min and the furthest away point max</span>
        <span class="c1"># the vector between the two is a diagonal of the bounding box</span>
        <span class="n">min_point</span><span class="p">,</span> <span class="n">max_point</span> <span class="o">=</span> <span class="n">bb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">None</span>
        <span class="n">max_dist</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">bb</span><span class="p">:</span>
            <span class="n">dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">point</span> <span class="o">-</span> <span class="n">min_point</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dist</span> <span class="o">&gt;</span> <span class="n">max_dist</span><span class="p">:</span>
                <span class="n">max_point</span> <span class="o">=</span> <span class="n">point</span>
                <span class="n">max_dist</span> <span class="o">=</span> <span class="n">dist</span>
        <span class="n">diag</span> <span class="o">=</span> <span class="n">max_point</span> <span class="o">-</span> <span class="n">min_point</span>
        <span class="c1"># use the diagonal to calculate the volume of the box</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">diag</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">diag</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">diag</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

<div class="viewcode-block" id="MeshObject.mesh_as_bmesh"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.mesh_as_bmesh">[docs]</a>    <span class="k">def</span> <span class="nf">mesh_as_bmesh</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">return_copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">bmesh</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">BMesh</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Returns a bmesh based on the object&#39;s mesh.</span>

<span class="sd">        Independent of return_copy, changes to the returned bmesh only take into affect after calling update_from_bmesh().</span>

<span class="sd">        :param return_copy: If True, a copy of the objects bmesh will be returned, otherwise the bmesh owned by blender is returned (the object has to be in edit mode for that).</span>
<span class="sd">        :return: The bmesh</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">return_copy</span><span class="p">:</span>
            <span class="n">bm</span> <span class="o">=</span> <span class="n">bmesh</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
            <span class="n">bm</span><span class="o">.</span><span class="n">from_mesh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_mesh</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">mode</span> <span class="o">!=</span> <span class="s2">&quot;EDIT_MESH&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The object: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span><span class="si">}</span><span class="s2"> is not in EDIT mode before calling mesh_as_bmesh()&quot;</span><span class="p">)</span>
            <span class="n">bm</span> <span class="o">=</span> <span class="n">bmesh</span><span class="o">.</span><span class="n">from_edit_mesh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_mesh</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">bm</span></div>

<div class="viewcode-block" id="MeshObject.update_from_bmesh"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.update_from_bmesh">[docs]</a>    <span class="k">def</span> <span class="nf">update_from_bmesh</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bm</span><span class="p">:</span> <span class="n">bmesh</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">BMesh</span><span class="p">,</span> <span class="n">free_bm_mesh</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">bmesh</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">BMesh</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Updates the object&#39;s mesh based on the given bmesh.</span>

<span class="sd">        :param bm: The bmesh to set.</span>
<span class="sd">        :param free_bm_mesh: If True and the given bmesh is not owned by blender, it will be deleted in the end.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># If the bmesh is owned by blender</span>
        <span class="k">if</span> <span class="n">bm</span><span class="o">.</span><span class="n">is_wrapped</span><span class="p">:</span>
            <span class="c1"># Just tell the mesh to update itself based on its bmesh</span>
            <span class="n">bmesh</span><span class="o">.</span><span class="n">update_edit_mesh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_mesh</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Set mesh from bmesh</span>
            <span class="n">bm</span><span class="o">.</span><span class="n">to_mesh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_mesh</span><span class="p">())</span>
            <span class="c1"># Optional: Free the bmesh</span>
            <span class="k">if</span> <span class="n">free_bm_mesh</span><span class="p">:</span>
                <span class="n">bm</span><span class="o">.</span><span class="n">free</span><span class="p">()</span>
        <span class="c1"># Make sure the mesh is updated</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_mesh</span><span class="p">()</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

<div class="viewcode-block" id="MeshObject.edit_mode"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.edit_mode">[docs]</a>    <span class="k">def</span> <span class="nf">edit_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Switch into edit mode of this mesh object &quot;&quot;&quot;</span>
        <span class="c1"># Make sure we are in object mode</span>
        <span class="k">if</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">mode</span> <span class="o">!=</span> <span class="s2">&quot;OBJECT&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">object_mode</span><span class="p">()</span>

        <span class="c1"># Set object active (Context overriding does not work for bpy.ops.object.mode_set)</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">select_all</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;DESELECT&#39;</span><span class="p">)</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">view_layer</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">select_set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">mode_set</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;EDIT&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="MeshObject.object_mode"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.object_mode">[docs]</a>    <span class="k">def</span> <span class="nf">object_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Switch back into object mode &quot;&quot;&quot;</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">mode_set</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;OBJECT&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="MeshObject.create_bvh_tree"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.create_bvh_tree">[docs]</a>    <span class="k">def</span> <span class="nf">create_bvh_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">mathutils</span><span class="o">.</span><span class="n">bvhtree</span><span class="o">.</span><span class="n">BVHTree</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Builds a bvh tree based on the object&#39;s mesh.</span>

<span class="sd">        :return: The new bvh tree</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bm</span> <span class="o">=</span> <span class="n">bmesh</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
        <span class="n">bm</span><span class="o">.</span><span class="n">from_mesh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_mesh</span><span class="p">())</span>
        <span class="n">bm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">Matrix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_local2world_mat</span><span class="p">()))</span>
        <span class="n">bvh_tree</span> <span class="o">=</span> <span class="n">mathutils</span><span class="o">.</span><span class="n">bvhtree</span><span class="o">.</span><span class="n">BVHTree</span><span class="o">.</span><span class="n">FromBMesh</span><span class="p">(</span><span class="n">bm</span><span class="p">)</span>
        <span class="n">bm</span><span class="o">.</span><span class="n">free</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">bvh_tree</span></div>

<div class="viewcode-block" id="MeshObject.create_bvh_tree_multi_objects"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.create_bvh_tree_multi_objects">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">create_bvh_tree_multi_objects</span><span class="p">(</span><span class="n">mesh_objects</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;MeshObject&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">mathutils</span><span class="o">.</span><span class="n">bvhtree</span><span class="o">.</span><span class="n">BVHTree</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Creates a bvh tree which contains multiple mesh objects.</span>

<span class="sd">        Such a tree is later used for fast raycasting.</span>

<span class="sd">        :param mesh_objects: The list of mesh objects that should be put into the BVH tree.</span>
<span class="sd">        :return: The built BVH tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Create bmesh which will contain the meshes of all objects</span>
        <span class="n">bm</span> <span class="o">=</span> <span class="n">bmesh</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
        <span class="c1"># Go through all mesh objects</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">mesh_objects</span><span class="p">:</span>
            <span class="c1"># Add object mesh to bmesh (the newly added vertices will be automatically selected)</span>
            <span class="n">bm</span><span class="o">.</span><span class="n">from_mesh</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">get_mesh</span><span class="p">())</span>
            <span class="c1"># Apply world matrix to all selected vertices</span>
            <span class="n">bm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">Matrix</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">get_local2world_mat</span><span class="p">()),</span> <span class="nb">filter</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;SELECT&quot;</span><span class="p">})</span>
            <span class="c1"># Deselect all vertices</span>
            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">bm</span><span class="o">.</span><span class="n">verts</span><span class="p">:</span>
                <span class="n">v</span><span class="o">.</span><span class="n">select</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Create tree from bmesh</span>
        <span class="n">bvh_tree</span> <span class="o">=</span> <span class="n">mathutils</span><span class="o">.</span><span class="n">bvhtree</span><span class="o">.</span><span class="n">BVHTree</span><span class="o">.</span><span class="n">FromBMesh</span><span class="p">(</span><span class="n">bm</span><span class="p">)</span>
        <span class="n">bm</span><span class="o">.</span><span class="n">free</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">bvh_tree</span></div>

<div class="viewcode-block" id="MeshObject.compute_poi"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.compute_poi">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">compute_poi</span><span class="p">(</span><span class="n">objects</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;MeshObject&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Computes a point of interest in the scene. Point is defined as a location of the one of the selected objects</span>
<span class="sd">        that is the closest one to the mean location of the bboxes of the selected objects.</span>

<span class="sd">        :param objects: The list of mesh objects that should be considered.</span>
<span class="sd">        :return: Point of interest in the scene.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Init matrix for all points of all bounding boxes</span>
        <span class="n">mean_bb_points</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
            <span class="c1"># Get bounding box corners</span>
            <span class="n">bb_points</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">get_bound_box</span><span class="p">()</span>
            <span class="c1"># Compute mean coords of bounding box</span>
            <span class="n">mean_bb_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">bb_points</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Query point - mean of means</span>
        <span class="n">mean_bb_point</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">mean_bb_points</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="c1"># Closest point (from means) to query point (mean of means)</span>
        <span class="n">poi</span> <span class="o">=</span> <span class="n">mean_bb_points</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmin</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">mean_bb_points</span> <span class="o">-</span> <span class="n">mean_bb_point</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))]</span>

        <span class="k">return</span> <span class="n">poi</span></div>

<div class="viewcode-block" id="MeshObject.position_is_above_object"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.position_is_above_object">[docs]</a>    <span class="k">def</span> <span class="nf">position_is_above_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">position</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Vector</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot; Make sure the given position is straight above the given object with no obstacles in between.</span>

<span class="sd">        :param position: The position to check.</span>
<span class="sd">        :return: True, if a ray sent into negative z-direction starting from the position hits the object first.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Send a ray straight down and check if the first hit object is the query object</span>
        <span class="n">hit</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">hit_object</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">ray_cast</span><span class="p">(</span><span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">view_layer</span><span class="o">.</span><span class="n">depsgraph</span><span class="p">,</span>
                                                                 <span class="n">Vector</span><span class="p">(</span><span class="n">position</span><span class="p">),</span>
                                                                 <span class="n">Vector</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">hit</span> <span class="ow">and</span> <span class="n">hit_object</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span></div>

<div class="viewcode-block" id="MeshObject.ray_cast"><a class="viewcode-back" href="../../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject.ray_cast">[docs]</a>    <span class="k">def</span> <span class="nf">ray_cast</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">origin</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Vector</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">direction</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Vector</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">max_distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.70141e+38</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot; Cast a ray onto evaluated geometry, in object space.</span>

<span class="sd">        :param origin: Origin of the ray, in object space.</span>
<span class="sd">        :param direction: Direction of the ray, in object space.</span>
<span class="sd">        :param max_distance: Maximum distance.</span>
<span class="sd">        :return: Whether the ray successfully hit the geometry</span>
<span class="sd">                 The hit location of this ray cast, float array of 3 items in [-inf, inf]</span>
<span class="sd">                 The face normal at the ray cast hit location, float array of 3 items in [-inf, inf]</span>
<span class="sd">                 The face index, -1 when original data isnt available, int in [-inf, inf]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blender_obj</span><span class="o">.</span><span class="n">ray_cast</span><span class="p">(</span><span class="n">Vector</span><span class="p">(</span><span class="n">origin</span><span class="p">),</span> <span class="n">Vector</span><span class="p">(</span><span class="n">direction</span><span class="p">),</span> <span class="n">max_distance</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">location</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">normal</span><span class="p">),</span> <span class="n">index</span><span class="p">)</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, DLR RMC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>